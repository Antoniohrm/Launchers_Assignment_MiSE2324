function [stateint, Rocket, Mission] = endoAtmPhase(Rocket, Mission)

state0 = zeros(1, 7);
state0(1:3) = Rocket.r(1, :);
%state(4:6) = Rocket.v(1, :);
state(4:6) = [1, 1, 1];
state(7) = Rocket.m0(1);

max_time = 60;
curstate = [];

[t, state] = ode45(@(t, state) endoAtmDer(t, state, Rocket, Mission), [0, max_time], state);
%[t, ders] = endoAtmDer(0, state, Rocket, Mission)
% w = Rocket.m0(1) * Mission.g * sind(Mission.latlaunch)
% w = Rocket.m0(1) * Mission.g * cosd(Mission.latlaunch)


end